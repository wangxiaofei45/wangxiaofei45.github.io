<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>向商户付款</title>
		<link rel="stylesheet" type="text/css" href="css/pay.css" />
		<script src="js/hotcss.js"></script>
		<script src="js/jquery-3.1.1.min.js"></script>
	</head>

	<body>
		<div class="container">

			<div class="header clearfix">
				<img class="left" src="img/demo.png" />
				<div class="right">
					<p class="name">江南美食(下沙店)</p>
					<div class="wraning">
						<img src="img/商.png" />
						<img src="img/码.png" />
						<img src="img/个.png" />
						<span>下沙生活圈</span>
					</div>
				</div>
			</div>

			<div class="input">
				<div class="left">
					应付金额
				</div>
				<span id="posabs">
					￥
				</span>
				<span id="number">
				</span>
				<span class="cursor">
				</span>
				
			</div>
			<button class="sure_button active submit">
				确认支付
			</button>
			<div class="keyboard show">
				<div class="list clearfix">
					<div class="num numbers">
						1
					</div>
					<div class="num numbers">
						2
					</div>
					<div class="num numbers">
						3
					</div>
					<div class="num" id="remove">
						<img src="img/delete.png" />
					</div>
				</div>
				<div class="list clearfix">
					<div class="num_con clearfix">
						<div class="num numbers">
							4
						</div>
						<div class="num numbers">
							5
						</div>
						<div class="num numbers">
							6
						</div>
						<div class="num numbers">
							7
						</div>
						<div class="num numbers">
							8
						</div>
						<div class="num numbers">
							9
						</div>
						<div class="num" id="key">
							<img src="img/key.png"/>
						</div>
						<div class="num numbers">
							0
						</div>
						<div class="num numbers">
							.
						</div>
					</div>
					<div class="num sure">
						<button id="issure" class="active submit" >
					    	确认<br>支付
					    </button>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			function trim(s) {
				return s.replace(/(^\s*)|(\s*$)/g, "");
			}
			$(function() {
				$('.numbers').click(function() {
					var numbers = trim($('#number').html());
					var str = trim(this.innerHTML);
					numbers += str;
					$('#number').html(numbers)
				})
			})
			$('#remove').click(function() {
				var oDiv = document.getElementById("number");
				var oDivHtml = oDiv.innerHTML;
				console.log(oDivHtml);
				oDiv.innerHTML = oDivHtml.substring(0, oDivHtml.length - 1);
			})

			setInterval(function() {

				if($("#number").text() != "" && parseFloat($("#number").text()) > 0) {
					$('#issure').removeClass('active');
					$('.sure_button').removeClass('active');
					$('#issure').attr('disabled', false);
					$('.sure_button').attr('disabled', false);
				} else {

					$('#issure').addClass('active');
					$('.sure_button').addClass('active');
					$('#issure').attr('disabled', true);
					$('.sure_button').attr('disabled', true);
				}

			}, 200)
		
			$('#key').click(function(){
				 $('.sure_button').css('display','block');
                 $('.keyboard').removeClass('show').addClass('hidden');
			})
			$('.input').click(function(){
				$('.sure_button').css('display','none');
				$('.keyboard').removeClass('hidden').addClass('show');
			})
			
			//确定提交
				$('.submit').click(function(){
				console.log($("#number").text());
			})
		</script>
	</body>

</html>